<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Live Location Test</title>
</head>
<body>
  <h1>📍 موقعیت زنده (تست فقط روی خودم)</h1>
  <p id="status">در حال دریافت موقعیت...</p>

  <script>
    if ('geolocation' in navigator) {
      navigator.geolocation.watchPosition(
        (pos) => {
          const lat = pos.coords.latitude;
          const lon = pos.coords.longitude;
          document.getElementById('status').innerText =
            `✅ موقعیت شما: ${lat}, ${lon}`;
          console.log("Live Location:", lat, lon);
        },
        (err) => {
          let msg = "❌ خطا: ";
          switch (err.code) {
            case err.PERMISSION_DENIED:
              msg += "اجازه دسترسی به مکان رد شده است.";
              break;
            case err.POSITION_UNAVAILABLE:
              msg += "موقعیت در دسترس نیست.";
              break;
            case err.TIMEOUT:
              msg += "درخواست موقعیت زمان‌بر شد.";
              break;
            default:
              msg += err.message;
          }
          document.getElementById('status').innerText = msg + " لطفاً GPS را روشن و مجدداً تلاش کنید.";
        },
        {
          enableHighAccuracy: true,
          timeout: 10000,
          maximumAge: 0
        }
      );
    } else {
      document.getElementById('status').innerText = "❌ مرورگر شما از GPS پشتیبانی نمی‌کند.";
    }
  </script>
</body>
</html>
